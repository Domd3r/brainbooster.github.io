/* Základ */
* { box-sizing: border-box; }
body {
  background: radial-gradient(1000px 600px at 50% -20%, #565656, #343434);
  color: #fff;
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  margin: 0;
  min-height: 100vh;
  display: grid;
  place-items: center;
  text-align: center;
  overflow: hidden;
}
h1,h2,h3 { color: #ff7eb6; margin: .25rem 0 .5rem; }
.muted { opacity: .75; }

/* Obrazovky + animace */
.screen { width: 100%; max-width: 780px; display: none; padding: 24px; }
.screen.active { display: block; }
.fade { opacity: 0; transition: opacity .5s ease; }
.screen.active.fade { opacity: 1; }

/* Tlačítka */
.btn {
  background: #ff7eb6;
  border: none;
  border-radius: 999px;
  padding: 12px 24px;
  font-weight: 700;
  cursor: pointer;
  margin: 8px;
  transition: transform .15s ease, filter .15s ease, background .2s ease;
}
.btn:hover { transform: translateY(-1px); filter: brightness(1.05); }
.btn.small { padding: 7px 12px; font-weight: 700; }
.btn.ghost { background: transparent; border: 2px solid #ff7eb6; color: #ff7eb6; }

/* Karty (výběry) */
.card-grid { display: grid; grid-template-columns: repeat(auto-fit,minmax(220px,1fr)); gap: 16px; margin-top: 8px; }
.card {
  background: #2c2c2c;
  border: 2px solid #ff7eb6;
  border-radius: 20px;
  padding: 16px;
  cursor: pointer;
  transition: transform .15s ease, box-shadow .2s ease, border-color .2s ease;
}
.card:hover { transform: translateY(-3px); box-shadow: 0 10px 30px rgba(0,0,0,.35); border-color:#ff98c7; }
.card .icon { font-size: 1.8rem; margin-bottom: 6px; }
.card .title { font-size: 1.05rem; font-weight: 800; }
.card .desc { font-size: .9rem; opacity: .8; }

/* Top bar */
.top-bar { display:flex; justify-content:space-between; align-items:center; margin-bottom: 12px; }

/* Rank vpravo nahoře */
.rank-badge {
  position: fixed; top: 12px; right: 12px;
  background: #2c2c2c; border: 2px solid #ff7eb6; border-radius: 999px;
  padding: 8px 14px; font-weight: 800; color: #ff7eb6; z-index: 30;
}

/* Task karta */
.task-card {
  background: #262626; border: 2px solid #ff7eb6; border-radius: 24px;
  padding: 20px; box-shadow: 0 10px 30px rgba(0,0,0,.35);
}
.task-card h2 { margin: 8px 0 10px; }
#answerInput {
  padding: 12px; width: 80%; max-width: 360px;
  border: 2px solid #ff7eb6; border-radius: 12px; font-size: 1.05rem; text-align: center;
}
.chip {
  display: inline-block; background: #ff7eb6; color: #1f1f1f; padding: 6px 12px; border-radius: 999px; font-weight: 800;
}

/* Progress bar */
.progress {
  position: relative; height: 16px; width: 100%; max-width: 780px; margin: 16px auto 0;
  background: #1f1f1f; border-radius: 999px; border: 1px solid #494949;
}
.progress-bar {
  height: 100%; width: 0%; background: linear-gradient(90deg,#ff7eb6,#ffa7d1);
  border-radius: 999px; transition: width .4s ease;
}
.progress-label { position:absolute; inset:0; display:grid; place-items:center; font-size:.85rem; color:#fff; }

/* Panely (Historie / Knížka) */
.slide-panel {
  position: fixed; top: 0; right: -360px; width: 320px; height: 100%;
  background: #222; color:#fff; padding: 16px; border-left: 3px solid #ff7eb6;
  transition: right .35s ease; z-index: 25; overflow-y: auto;
}
.slide-panel.active { right: 0; }
.panel-header { display:flex; justify-content:space-between; align-items:center; margin-bottom: 8px; }
#historyList, .report-list { text-align:left; padding-left: 18px; }
#historyList li { margin: 6px 0; }

.report-panel {
  position: fixed; bottom: 80px; left: 16px; width: 320px; max-height: 60vh;
  background: #222; color:#fff; padding: 16px; border: 2px solid #ff7eb6; border-radius: 16px;
  box-shadow: 0 10px 30px rgba(0,0,0,.35); display: none; z-index: 26; overflow-y:auto;
}
.report-panel.show { display: block; }
.report-item {
  border: 1px solid #444; border-radius: 12px; padding: 10px; margin-bottom: 10px; background:#1a1a1a;
}

/* FAB tlačítka */
.fab-right, .fab-left {
  position: fixed; bottom: 16px; width: 56px; height: 56px; border-radius: 50%;
  display:grid; place-items:center; font-size: 1.35rem; cursor:pointer;
  box-shadow: 0 10px 30px rgba(0,0,0,.35); z-index: 24; border: 2px solid #ff7eb6;
  background:#2c2c2c; color:#fff;
}
.fab-right { right: 16px; }
.fab-left  { left: 16px; }

/* Kalkulačka */
.calc { position: fixed; bottom: -330px; right: 16px; width: 260px;
  background:#222; border: 2px solid #ff7eb6; border-radius: 16px; padding: 12px;
  transition: bottom .35s ease; z-index: 27;
}
.calc.show { bottom: 84px; }
.calc-header { display:flex; justify-content:space-between; align-items:center; color:#ff7eb6; margin-bottom: 6px; }
#calcDisplay { width:100%; padding:8px; font-size:1.1rem; text-align:right; border-radius: 8px; border:1px solid #555; background:#111; color:#fff; }
.calc-buttons { display:grid; grid-template-columns: repeat(4,1fr); gap:6px; margin-top:8px; }
.calc-btn {
  padding:10px; background:#ff7eb6; border:none; border-radius:10px; font-weight:800; cursor:pointer;
  transition: transform .15s ease;
}
.calc-btn:hover { transform: scale(1.06); }
.hidden { display:none; }

/* Modal */
.modal {
  position: fixed; inset: 0; display:grid; place-items:center; background: rgba(0,0,0,.6); z-index: 40;
}
.modal .modal-content{
  width: min(92vw, 520px); background:#262626; border:2px solid #ff7eb6; border-radius: 20px; padding: 18px;
}
.big-grade { font-size: 3rem; font-weight: 900; color:#ff7eb6; margin: 6px 0 12px; }
.modal-actions { display:flex; gap: 10px; justify-content:center; flex-wrap: wrap; }
